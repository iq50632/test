import{u as V,_ as b}from"./product-2d0249b1.js";import{_ as S,L as k,z as C,o as r,c as m,a as e,b as o,w as i,G as I,I as y,d as z,j as c,t as d,b_ as _,bX as w,F as P,r as B,i as T,p as u,f as h,bY as L,bZ as U,H as f,O as F,P as H}from"./index-b22bccdd.js";import{s as N}from"./shopping-cart-7283b2fa.js";import"./_commonjsHelpers-042e6b4d.js";const D={components:{shoppingCart:N},setup(){const l=V(),s=k();return{productStore:l,defaultStore:s}},data(){return{product:{},size:[],count:1,trader:{id:1,name:"admin",account:123,evaluation:4},selectedSize:""}},created(){this.product=b.filter(this.productStore.allProduct,{id:parseInt(this.$route.params.id)})[0],this.size=this.product.size.split(",")},watch:{count(l){parseInt(l)>this.product.stock&&(this.count=this.product.stock),parseInt(l)<1&&(this.count=1)}},methods:{addShopping(){this.selectedSize===void 0?this.defaultStore.setSnackbar("尚未選擇選項"):this.productStore.set_shoppingCart({id:this.product.id,img:this.product.img,name:this.product.name,size:this.size[this.selectedSize],count:parseInt(this.count)})},updateCount(l){this.count<=this.product.stock&&this.count>=1&&(l=="plus"?this.count=parseInt(this.count)+1:this.count=parseInt(this.count)-1)}}},p=l=>(F("data-v-e4b230ee"),l=l(),H(),l),G={class:"pt-5"},M=["src"],R={class:"my-2"},j={class:"d-flex align-items-center mt-4 mb-10"},E={class:"d-flex align-center"},O=["textContent"],X={class:"flex-shrink-1 pt-1"},Y={class:"border-price"},Z={class:"mb-n2"},q={class:"d-flex align-center mb-3 mt-5"},A=p(()=>e("div",{class:"text-no-wrap"},"選項：",-1)),J={class:"d-flex flex-fill flex-wrap"},K={class:"d-flex align-center mb-3"},Q=p(()=>e("span",null,"數量：",-1)),W={style:{width:"120px"},class:"mr-5"},$={class:"flex-shrink-1"},ee={class:"d-flex align-center"},te={class:"col-12 description"},se=p(()=>e("div",{class:"ma-4 ml-2 line"},[e("b",null,"產品介紹：")],-1)),oe=["innerHTML"];function ne(l,s,le,ie,t,a){const v=C("shopping-cart");return r(),m("div",null,[e("div",G,[o(I,{elevation:"10",rounded:"xl",class:"pa-6"},{default:i(()=>[o(y,null,{default:i(()=>[o(z,{class:"mb-3"},{default:i(()=>[o(c,{cols:"12",md:"6",lg:"5",xl:"4",class:"image-frame"},{default:i(()=>[e("img",{src:t.product.img,alt:"image"},null,8,M)]),_:1}),o(c,{cols:"12",md:"6",lg:"7",xl:"8"},{default:i(()=>[e("h2",R,d(t.product.name),1),e("div",j,[e("div",E,[o(_,{modelValue:t.product.evaluation,"onUpdate:modelValue":s[0]||(s[0]=n=>t.product.evaluation=n),"half-increments":"",readonly:"",color:"orange",density:"compact"},null,8,["modelValue"]),e("b",{class:"ml-4 evaluation",textContent:d(t.product.evaluation)},null,8,O)]),e("div",X,[e("b",null,"銷量: "+d(t.product.sold),1)])]),e("div",Y,[e("h2",Z," $"+d(t.product.price),1)]),e("div",q,[A,e("div",J,[o(w,{modelValue:t.selectedSize,"onUpdate:modelValue":s[1]||(s[1]=n=>t.selectedSize=n)},{default:i(()=>[(r(!0),m(P,null,B(t.size,n=>(r(),T(L,{key:n.id},{default:i(({isSelected:x,toggle:g})=>[o(u,{color:"main",variant:x?"outlined":"tonal",class:"mb-2 mx-3",onClick:g},{default:i(()=>[h(d(n),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),128))]),_:1},8,["modelValue"])])]),e("div",K,[Q,e("div",W,[o(U,{modelValue:t.count,"onUpdate:modelValue":s[2]||(s[2]=n=>t.count=n),class:"text-center",min:0,max:t.product.stock,"hide-details":"","single-line":"",type:"number",variant:"solo","prepend-inner-icon":"mdi-minus","onClick:prependInner":s[3]||(s[3]=n=>a.updateCount("minus")),"append-inner-icon":"mdi-plus","onClick:appendInner":s[4]||(s[4]=n=>a.updateCount("plus"))},null,8,["modelValue","max"])]),e("div",$,[e("b",null,"庫存: "+d(t.product.stock),1)])]),o(u,{color:"main",class:"mt-5",onClick:s[5]||(s[5]=n=>a.addShopping())},{default:i(()=>[o(f,{icon:"mdi-cart-outline",class:"mr-2"}),h(" 加入購物車 ")]),_:1})]),_:1})]),_:1}),o(c,{cols:"12",class:"mb-3"},{default:i(()=>[e("div",ee,[o(f,{icon:"mdi-account",height:"50",width:"50"}),o(u,{onClick:s[6]||(s[6]=n=>l.$router.push({name:"product-trader",params:{trader:t.trader.account}})),variant:"text"},{default:i(()=>[e("b",null,"賣家："+d(t.trader.name),1)]),_:1})]),o(_,{modelValue:t.trader.evaluation,"onUpdate:modelValue":s[7]||(s[7]=n=>t.trader.evaluation=n),"half-increments":"",readonly:"",color:"orange",density:"compact"},null,8,["modelValue"])]),_:1}),e("div",te,[se,e("div",{class:"ma-5 content",innerHTML:t.product.text},null,8,oe)])]),_:1})]),_:1})]),o(v)])}const ue=S(D,[["render",ne],["__scopeId","data-v-e4b230ee"]]);export{ue as default};
