import{u as V,_ as b}from"./product-ee6e03d7.js";import{_ as k,L as C,z as S,o as c,c as m,b as o,p as r,a as t,w as i,G as I,I as y,d as z,j as u,t as d,b_ as _,bX as w,F as P,r as B,i as T,f as h,bY as L,bZ as U,H as f,O as F,P as H}from"./index-b012bb6d.js";import{s as N}from"./shopping-cart-0c6533fb.js";import"./_commonjsHelpers-042e6b4d.js";const D={components:{shoppingCart:N},setup(){const l=V(),e=C();return{productStore:l,defaultStore:e}},data(){return{product:{},size:[],count:1,trader:{id:1,name:"admin",account:123,evaluation:4},selectedSize:""}},created(){this.product=b.filter(this.productStore.allProduct,{id:parseInt(this.$route.params.id)})[0],this.size=this.product.size.split(",")},watch:{count(l){parseInt(l)>this.product.stock&&(this.count=this.product.stock),parseInt(l)<1&&(this.count=1)}},methods:{addShopping(){this.selectedSize===void 0?this.defaultStore.setSnackbar("尚未選擇選項"):this.productStore.set_shoppingCart({id:this.product.id,img:this.product.img,name:this.product.name,size:this.size[this.selectedSize],count:parseInt(this.count)})},updateCount(l){this.count<=this.product.stock&&this.count>=1&&(l=="plus"?this.count=parseInt(this.count)+1:this.count=parseInt(this.count)-1)}}},p=l=>(F("data-v-5d325b5f"),l=l(),H(),l),G={class:"pt-5"},M=["src"],R={class:"my-2"},j={class:"d-flex align-items-center mt-4 mb-10"},E={class:"d-flex align-center"},O=["textContent"],X={class:"flex-shrink-1 pt-1"},Y={class:"border-price"},Z={class:"mb-n2"},q={class:"d-flex align-center mb-3 mt-5"},A=p(()=>t("div",{class:"text-no-wrap"},"選項：",-1)),J={class:"d-flex flex-fill flex-wrap"},K={class:"d-flex align-center mb-3"},Q=p(()=>t("span",null,"數量：",-1)),W={style:{width:"120px"},class:"mr-5"},$={class:"flex-shrink-1"},tt={class:"d-flex align-center"},et={class:"col-12 description"},st=p(()=>t("div",{class:"ma-4 ml-2 line"},[t("b",null,"產品介紹：")],-1)),ot={class:"ma-5 content"},nt=["innerHTML"];function lt(l,e,it,dt,s,a){const v=S("shopping-cart");return c(),m("div",null,[o(r,{class:"return-btn",color:"primary",size:"x-large",icon:"mdi-arrow-left",onClick:e[0]||(e[0]=n=>l.$router.push({name:"shopping"}))}),t("div",G,[o(I,{elevation:"10",rounded:"xl",class:"pa-6"},{default:i(()=>[o(y,null,{default:i(()=>[o(z,{class:"mb-3"},{default:i(()=>[o(u,{cols:"12",md:"6",lg:"5",xl:"4",class:"image-frame"},{default:i(()=>[t("img",{src:s.product.img,alt:"image"},null,8,M)]),_:1}),o(u,{cols:"12",md:"6",lg:"7",xl:"8"},{default:i(()=>[t("h2",R,d(s.product.name),1),t("div",j,[t("div",E,[o(_,{modelValue:s.product.evaluation,"onUpdate:modelValue":e[1]||(e[1]=n=>s.product.evaluation=n),"half-increments":"",readonly:"",color:"orange",density:"compact"},null,8,["modelValue"]),t("b",{class:"ml-4 evaluation",textContent:d(s.product.evaluation)},null,8,O)]),t("div",X,[t("b",null,"銷量: "+d(s.product.sold),1)])]),t("div",Y,[t("h2",Z," $"+d(s.product.price),1)]),t("div",q,[A,t("div",J,[o(w,{modelValue:s.selectedSize,"onUpdate:modelValue":e[2]||(e[2]=n=>s.selectedSize=n)},{default:i(()=>[(c(!0),m(P,null,B(s.size,n=>(c(),T(L,{key:n.id},{default:i(({isSelected:x,toggle:g})=>[o(r,{color:"main",variant:x?"outlined":"tonal",class:"mb-2 mx-3",onClick:g},{default:i(()=>[h(d(n),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),128))]),_:1},8,["modelValue"])])]),t("div",K,[Q,t("div",W,[o(U,{modelValue:s.count,"onUpdate:modelValue":e[3]||(e[3]=n=>s.count=n),class:"text-center",min:0,max:s.product.stock,"hide-details":"","single-line":"",type:"number",variant:"solo","prepend-inner-icon":"mdi-minus","onClick:prependInner":e[4]||(e[4]=n=>a.updateCount("minus")),"append-inner-icon":"mdi-plus","onClick:appendInner":e[5]||(e[5]=n=>a.updateCount("plus"))},null,8,["modelValue","max"])]),t("div",$,[t("b",null,"庫存: "+d(s.product.stock),1)])]),o(r,{color:"main",class:"mt-5",onClick:e[6]||(e[6]=n=>a.addShopping())},{default:i(()=>[o(f,{icon:"mdi-cart-outline",class:"mr-2"}),h(" 加入購物車 ")]),_:1})]),_:1})]),_:1}),o(u,{cols:"12",class:"mb-3"},{default:i(()=>[t("div",tt,[o(f,{icon:"mdi-account",height:"50",width:"50"}),o(r,{onClick:e[7]||(e[7]=n=>l.$router.push({name:"product-trader",params:{trader:s.trader.account}})),variant:"text"},{default:i(()=>[t("b",null,"賣家："+d(s.trader.name),1)]),_:1})]),o(_,{modelValue:s.trader.evaluation,"onUpdate:modelValue":e[8]||(e[8]=n=>s.trader.evaluation=n),"half-increments":"",readonly:"",color:"orange",density:"compact"},null,8,["modelValue"])]),_:1}),t("div",et,[st,t("div",ot,d(s.product.text),1),t("div",{class:"ma-5 content",innerHTML:s.product.text},null,8,nt)])]),_:1})]),_:1})]),o(v)])}const pt=k(D,[["render",lt],["__scopeId","data-v-5d325b5f"]]);export{pt as default};
