import{u as C}from"./product-b293171b.js";import{s as b}from"./shopping-cart-b709b29b.js";import{_ as S,r as y,o as c,a as h,b as t,d as s,w as i,A as I,U as w,j as z,x as u,t as d,P as f,X as P,F as B,e as T,l as U,V as p,f as v,Y as N,Q as F,i as x,D as L,E as D}from"./index-ac595f32.js";import"./lodash-d6562687.js";const E={components:{shoppingCart:b},setup(){const o=C(),e=o.currentProduct,_=o.currentProduct.size.split(",");return{store:o,product:e,size:_}},data(){return{count:1,trader:{id:1,name:"admin",account:123,evaluation:4},selectedSize:""}},watch:{count(o){parseInt(o)>this.product.stock&&(this.count=this.product.stock),parseInt(o)<1&&(this.count=1)}},methods:{prev(){this.$refs.mySwiper.$swiper.slidePrev()},next(){this.$refs.mySwiper.$swiper.slideNext()},addShopping(){this.selectedSize===void 0?this.defaultStore.setSnackbar("尚未選擇選項"):this.store.set_shoppingCart({id:this.product.id,img:this.product.img,name:this.product.name,size:this.size[this.selectedSize],count:parseInt(this.count)})},updateCount(o){this.count<=this.product.stock&&this.count>=1&&(o=="plus"?this.count=parseInt(this.count)+1:this.count=parseInt(this.count)-1)}}},m=o=>(L("data-v-0a2f8e80"),o=o(),D(),o),H={class:"pt-5"},M=["src"],R={class:"my-2"},j={class:"d-flex align-items-center mt-4 mb-10"},A={class:"d-flex align-center"},G=["textContent"],Q={class:"flex-shrink-1 pt-1"},X={class:"border-price"},Y={class:"mb-n2"},q={class:"d-flex align-center mb-3 mt-5"},J=m(()=>t("div",{class:"text-no-wrap"},"尺寸：",-1)),K={class:"d-flex flex-fill flex-wrap"},O={class:"d-flex align-center mb-3"},W=m(()=>t("span",null,"數量：",-1)),Z={style:{width:"120px"},class:"mr-5"},$={class:"flex-shrink-1"},tt={class:"d-flex align-center"},et={class:"col-12 description"},st=m(()=>t("div",{class:"ma-4 ml-2 line"},[t("b",null,"產品介紹：")],-1)),ot=["innerHTML"];function nt(o,e,_,l,a,r){const g=y("shopping-cart");return c(),h("div",null,[t("div",H,[s(I,{elevation:"10",rounded:"xl",class:"pa-6"},{default:i(()=>[s(w,null,{default:i(()=>[s(z,{class:"mb-3"},{default:i(()=>[s(u,{cols:"12",md:"6",lg:"5",xl:"4",class:"image-frame"},{default:i(()=>[t("img",{src:l.product.img,alt:"image"},null,8,M)]),_:1}),s(u,{cols:"12",md:"6",lg:"7",xl:"8"},{default:i(()=>[t("h2",R,d(l.product.name),1),t("div",j,[t("div",A,[s(f,{modelValue:l.product.evaluation,"onUpdate:modelValue":e[0]||(e[0]=n=>l.product.evaluation=n),"half-increments":"",readonly:"",color:"orange",density:"compact"},null,8,["modelValue"]),t("b",{class:"ml-4 evaluation",textContent:d(l.product.evaluation)},null,8,G)]),t("div",Q,[t("b",null,"銷量: "+d(l.product.sold),1)])]),t("div",X,[t("h2",Y," $"+d(l.product.price),1)]),t("div",q,[J,t("div",K,[s(P,{modelValue:a.selectedSize,"onUpdate:modelValue":e[1]||(e[1]=n=>a.selectedSize=n)},{default:i(()=>[(c(!0),h(B,null,T(l.size,n=>(c(),U(N,{key:n.id},{default:i(({isSelected:V,toggle:k})=>[s(p,{color:"main",variant:V?"outlined":"tonal",class:"mb-2 mx-3",onClick:k},{default:i(()=>[v(d(n),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),128))]),_:1},8,["modelValue"])])]),t("div",O,[W,t("div",Z,[s(F,{modelValue:a.count,"onUpdate:modelValue":e[2]||(e[2]=n=>a.count=n),class:"text-center",min:0,max:l.product.stock,"hide-details":"","single-line":"",type:"number",variant:"solo","prepend-inner-icon":"mdi-minus","onClick:prependInner":e[3]||(e[3]=n=>r.updateCount("minus")),"append-inner-icon":"mdi-plus","onClick:appendInner":e[4]||(e[4]=n=>r.updateCount("plus"))},null,8,["modelValue","max"])]),t("div",$,[t("b",null,"庫存: "+d(l.product.stock),1)])]),s(p,{color:"main",class:"mt-5",onClick:e[5]||(e[5]=n=>r.addShopping())},{default:i(()=>[s(x,{icon:"mdi-cart-outline",class:"mr-2"}),v(" 加入購物車 ")]),_:1})]),_:1})]),_:1}),s(u,{cols:"12",class:"mb-3"},{default:i(()=>[t("div",tt,[s(x,{icon:"mdi-account",height:"50",width:"50"}),s(p,{onClick:e[6]||(e[6]=n=>o.$router.push({name:"product-trader",params:{trader:a.trader.account}})),variant:"text"},{default:i(()=>[t("b",null,"賣家："+d(a.trader.name),1)]),_:1})]),s(f,{modelValue:a.trader.evaluation,"onUpdate:modelValue":e[7]||(e[7]=n=>a.trader.evaluation=n),"half-increments":"",readonly:"",color:"orange",density:"compact"},null,8,["modelValue"])]),_:1}),t("div",et,[st,t("div",{class:"ma-5 content",innerHTML:l.product.text},null,8,ot)])]),_:1})]),_:1})]),s(g)])}const rt=S(E,[["render",nt],["__scopeId","data-v-0a2f8e80"]]);export{rt as default};
