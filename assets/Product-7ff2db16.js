import{u as C}from"./product-06bb25af.js";import{s as S}from"./shopping-cart-4b305b8c.js";import{_ as b,K as y,o as c,c as h,a as t,b as s,w as i,G as I,S as w,d as z,k as u,t as d,M as f,Z as P,F as B,r as N,j as T,f as p,g as v,$ as L,N as U,L as x,O as F,P as M}from"./index-0b3cf521.js";import"./lodash-9978a6f3.js";import"./_commonjsHelpers-de833af9.js";const G={components:{shoppingCart:S},setup(){const o=C(),e=o.currentProduct,_=o.currentProduct.size.split(",");return{store:o,product:e,size:_}},data(){return{count:1,trader:{id:1,name:"admin",account:123,evaluation:4},selectedSize:""}},watch:{count(o){parseInt(o)>this.product.stock&&(this.count=this.product.stock),parseInt(o)<1&&(this.count=1)}},methods:{prev(){this.$refs.mySwiper.$swiper.slidePrev()},next(){this.$refs.mySwiper.$swiper.slideNext()},addShopping(){this.selectedSize===void 0?this.defaultStore.setSnackbar("尚未選擇選項"):this.store.set_shoppingCart({id:this.product.id,img:this.product.img,name:this.product.name,size:this.size[this.selectedSize],count:parseInt(this.count)})},updateCount(o){this.count<=this.product.stock&&this.count>=1&&(o=="plus"?this.count=parseInt(this.count)+1:this.count=parseInt(this.count)-1)}}},m=o=>(F("data-v-0a2f8e80"),o=o(),M(),o),H={class:"pt-5"},R=["src"],j={class:"my-2"},D={class:"d-flex align-items-center mt-4 mb-10"},E={class:"d-flex align-center"},K=["textContent"],O={class:"flex-shrink-1 pt-1"},Z={class:"border-price"},q={class:"mb-n2"},A={class:"d-flex align-center mb-3 mt-5"},J=m(()=>t("div",{class:"text-no-wrap"},"尺寸：",-1)),Q={class:"d-flex flex-fill flex-wrap"},W={class:"d-flex align-center mb-3"},X=m(()=>t("span",null,"數量：",-1)),Y={style:{width:"120px"},class:"mr-5"},$={class:"flex-shrink-1"},tt={class:"d-flex align-center"},et={class:"col-12 description"},st=m(()=>t("div",{class:"ma-4 ml-2 line"},[t("b",null,"產品介紹：")],-1)),ot=["innerHTML"];function nt(o,e,_,l,a,r){const g=y("shopping-cart");return c(),h("div",null,[t("div",H,[s(I,{elevation:"10",rounded:"xl",class:"pa-6"},{default:i(()=>[s(w,null,{default:i(()=>[s(z,{class:"mb-3"},{default:i(()=>[s(u,{cols:"12",md:"6",lg:"5",xl:"4",class:"image-frame"},{default:i(()=>[t("img",{src:l.product.img,alt:"image"},null,8,R)]),_:1}),s(u,{cols:"12",md:"6",lg:"7",xl:"8"},{default:i(()=>[t("h2",j,d(l.product.name),1),t("div",D,[t("div",E,[s(f,{modelValue:l.product.evaluation,"onUpdate:modelValue":e[0]||(e[0]=n=>l.product.evaluation=n),"half-increments":"",readonly:"",color:"orange",density:"compact"},null,8,["modelValue"]),t("b",{class:"ml-4 evaluation",textContent:d(l.product.evaluation)},null,8,K)]),t("div",O,[t("b",null,"銷量: "+d(l.product.sold),1)])]),t("div",Z,[t("h2",q," $"+d(l.product.price),1)]),t("div",A,[J,t("div",Q,[s(P,{modelValue:a.selectedSize,"onUpdate:modelValue":e[1]||(e[1]=n=>a.selectedSize=n)},{default:i(()=>[(c(!0),h(B,null,N(l.size,n=>(c(),T(L,{key:n.id},{default:i(({isSelected:V,toggle:k})=>[s(p,{color:"main",variant:V?"outlined":"tonal",class:"mb-2 mx-3",onClick:k},{default:i(()=>[v(d(n),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),128))]),_:1},8,["modelValue"])])]),t("div",W,[X,t("div",Y,[s(U,{modelValue:a.count,"onUpdate:modelValue":e[2]||(e[2]=n=>a.count=n),class:"text-center",min:0,max:l.product.stock,"hide-details":"","single-line":"",type:"number",variant:"solo","prepend-inner-icon":"mdi-minus","onClick:prependInner":e[3]||(e[3]=n=>r.updateCount("minus")),"append-inner-icon":"mdi-plus","onClick:appendInner":e[4]||(e[4]=n=>r.updateCount("plus"))},null,8,["modelValue","max"])]),t("div",$,[t("b",null,"庫存: "+d(l.product.stock),1)])]),s(p,{color:"main",class:"mt-5",onClick:e[5]||(e[5]=n=>r.addShopping())},{default:i(()=>[s(x,{icon:"mdi-cart-outline",class:"mr-2"}),v(" 加入購物車 ")]),_:1})]),_:1})]),_:1}),s(u,{cols:"12",class:"mb-3"},{default:i(()=>[t("div",tt,[s(x,{icon:"mdi-account",height:"50",width:"50"}),s(p,{onClick:e[6]||(e[6]=n=>o.$router.push({name:"product-trader",params:{trader:a.trader.account}})),variant:"text"},{default:i(()=>[t("b",null,"賣家："+d(a.trader.name),1)]),_:1})]),s(f,{modelValue:a.trader.evaluation,"onUpdate:modelValue":e[7]||(e[7]=n=>a.trader.evaluation=n),"half-increments":"",readonly:"",color:"orange",density:"compact"},null,8,["modelValue"])]),_:1}),t("div",et,[st,t("div",{class:"ma-5 content",innerHTML:l.product.text},null,8,ot)])]),_:1})]),_:1})]),s(g)])}const ct=b(G,[["render",nt],["__scopeId","data-v-0a2f8e80"]]);export{ct as default};
