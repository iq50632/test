import{u as k}from"./product-3bb240f9.js";import{s as C}from"./shopping-cart-ccd798f5.js";import"./lodash-9978a6f3.js";import{_ as S,K as y,o as u,c as h,a as t,b as s,w as i,G as I,b$ as w,d as z,k as p,t as d,M as f,c5 as P,F as B,r as N,j as T,f as m,g as v,c6 as L,N as U,L as x,O as F,P as M}from"./index-3f2ce6ad.js";import"./_commonjsHelpers-de833af9.js";const G={components:{shoppingCart:C},setup(){const o=k(),e=o.currentProduct;console.log(e);const r=o.currentProduct.size.split(",");return console.log(r),{store:o,product:e,size:r}},data(){return{count:1,trader:{id:1,name:"admin",account:123,evaluation:4},selectedSize:""}},watch:{count(o){parseInt(o)>this.product.stock&&(this.count=this.product.stock),parseInt(o)<1&&(this.count=1)}},methods:{prev(){this.$refs.mySwiper.$swiper.slidePrev()},next(){this.$refs.mySwiper.$swiper.slideNext()},addShopping(){this.selectedSize===void 0?this.defaultStore.setSnackbar("尚未選擇選項"):this.store.set_shoppingCart({id:this.product.id,img:this.product.img,name:this.product.name,size:this.size[this.selectedSize],count:parseInt(this.count)})},updateCount(o){this.count<=this.product.stock&&this.count>=1&&(o=="plus"?this.count=parseInt(this.count)+1:this.count=parseInt(this.count)-1)}}},_=o=>(F("data-v-2fab6229"),o=o(),M(),o),H={class:"pt-5"},R=["src"],j={class:"my-2"},D={class:"d-flex align-items-center mt-4 mb-10"},E={class:"d-flex align-center"},K=["textContent"],O={class:"flex-shrink-1 pt-1"},q={class:"border-price"},A={class:"mb-n2"},J={class:"d-flex align-center mb-3 mt-5"},Q=_(()=>t("div",{class:"text-no-wrap"},"尺寸：",-1)),W={class:"d-flex flex-fill flex-wrap"},X={class:"d-flex align-center mb-3"},Y=_(()=>t("span",null,"數量：",-1)),Z={style:{width:"120px"},class:"mr-5"},$={class:"flex-shrink-1"},tt={class:"d-flex align-center"},et={class:"col-12 description"},st=_(()=>t("div",{class:"ma-4 ml-2 line"},[t("b",null,"產品介紹：")],-1)),ot=["innerHTML"];function nt(o,e,r,l,a,c){const g=y("shopping-cart");return u(),h("div",null,[t("div",H,[s(I,{elevation:"10",rounded:"xl",class:"pa-6"},{default:i(()=>[s(w,null,{default:i(()=>[s(z,{class:"mb-3"},{default:i(()=>[s(p,{cols:"12",md:"6",lg:"5",xl:"4",class:"image-frame"},{default:i(()=>[t("img",{src:l.product.img,alt:"image"},null,8,R)]),_:1}),s(p,{cols:"12",md:"6",lg:"7",xl:"8"},{default:i(()=>[t("h2",j,d(l.product.name),1),t("div",D,[t("div",E,[s(f,{modelValue:l.product.evaluation,"onUpdate:modelValue":e[0]||(e[0]=n=>l.product.evaluation=n),"half-increments":"",readonly:"",color:"orange",density:"compact"},null,8,["modelValue"]),t("b",{class:"ml-4 evaluation",textContent:d(l.product.evaluation)},null,8,K)]),t("div",O,[t("b",null,"銷量: "+d(l.product.sold),1)])]),t("div",q,[t("h2",A," $"+d(l.product.price),1)]),t("div",J,[Q,t("div",W,[s(P,{modelValue:a.selectedSize,"onUpdate:modelValue":e[1]||(e[1]=n=>a.selectedSize=n)},{default:i(()=>[(u(!0),h(B,null,N(l.size,n=>(u(),T(L,{key:n.id},{default:i(({isSelected:V,toggle:b})=>[s(m,{color:"main",variant:V?"outlined":"tonal",class:"mb-2 mx-3",onClick:b},{default:i(()=>[v(d(n),1)]),_:2},1032,["variant","onClick"])]),_:2},1024))),128))]),_:1},8,["modelValue"])])]),t("div",X,[Y,t("div",Z,[s(U,{modelValue:a.count,"onUpdate:modelValue":e[2]||(e[2]=n=>a.count=n),class:"text-center",min:0,max:l.product.stock,"hide-details":"","single-line":"",type:"number",variant:"solo","prepend-inner-icon":"mdi-minus","onClick:prependInner":e[3]||(e[3]=n=>c.updateCount("minus")),"append-inner-icon":"mdi-plus","onClick:appendInner":e[4]||(e[4]=n=>c.updateCount("plus"))},null,8,["modelValue","max"])]),t("div",$,[t("b",null,"庫存: "+d(l.product.stock),1)])]),s(m,{color:"main",class:"mt-5",onClick:e[5]||(e[5]=n=>c.addShopping())},{default:i(()=>[s(x,{icon:"mdi-cart-outline",class:"mr-2"}),v(" 加入購物車 ")]),_:1})]),_:1})]),_:1}),s(p,{cols:"12",class:"mb-3"},{default:i(()=>[t("div",tt,[s(x,{icon:"mdi-account",height:"50",width:"50"}),s(m,{onClick:e[6]||(e[6]=n=>o.$router.push({name:"product-trader",params:{trader:a.trader.account}})),variant:"text"},{default:i(()=>[t("b",null,"賣家："+d(a.trader.name),1)]),_:1})]),s(f,{modelValue:a.trader.evaluation,"onUpdate:modelValue":e[7]||(e[7]=n=>a.trader.evaluation=n),"half-increments":"",readonly:"",color:"orange",density:"compact"},null,8,["modelValue"])]),_:1}),t("div",et,[st,t("div",{class:"ma-5 content",innerHTML:l.product.text},null,8,ot)])]),_:1})]),_:1})]),s(g)])}const ct=S(G,[["render",nt],["__scopeId","data-v-2fab6229"]]);export{ct as default};
